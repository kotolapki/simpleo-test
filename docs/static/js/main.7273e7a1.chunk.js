(this["webpackJsonpsimpleo-test"]=this["webpackJsonpsimpleo-test"]||[]).push([[0],{27:function(e,t,a){},28:function(e,t,a){},29:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a(1),i=a.n(n),o=a(10),s=a.n(o),l=a(3),c=(a(27),a(28),a(29),a(30),a(5)),u="CHANGE_LOGIN_STATUS",b="ADD_NEW_USER",d="DELETE_USER",m="CHANGE_USER_INFORMATION",g="CHANGE_ERROR_LOGIN_STATUS",j="CHANGE_NAVIGATION_CATEGORY",p="DELETE_TEMPERATURE",f="CHANGE_TEMPERATURE";function O(){return{type:g}}var _=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;return Math.floor(Math.random().toFixed(e)*Math.pow(10,e))},v=a(9);var h=function(e,t,a,r,n){var i=localStorage.getItem("users");if(i){var o=JSON.parse(i);if("login"===a){var s,l=Object(v.a)(o);try{for(l.s();!(s=l.n()).done;){var c=s.value;if(c.login===e&&c.password===t)return!0}}catch(m){l.e(m)}finally{l.f()}}if("registration"===a){var u,b=Object(v.a)(o);try{for(b.s();!(u=b.n()).done;){var d=u.value;if(d.nickname===r)return"nickname";if(d.email===n)return"email";if(d.login===e)return"login"}}catch(m){b.e(m)}finally{b.f()}}}};var y=function(e,t,a,r,n){var i={id:n,login:a,nickname:e,email:t,password:r},o=localStorage.getItem("users");if(o){var s=JSON.parse(o);s.push(i),localStorage.setItem("users",JSON.stringify(s))}else{var l=[i];localStorage.setItem("users",JSON.stringify(l))}};a(31),a(32);var x={changeErrorLoginStatus:O},N=Object(l.b)(null,x)((function(e){var t=e.changeErrorLoginStatus,a=e.errorMessage;return Object(r.jsxs)("div",{className:"error-popup",children:[Object(r.jsx)("div",{className:"error-popup__layout"}),Object(r.jsxs)("div",{className:"error-popup__container",children:[Object(r.jsx)("p",{className:"error-popup__text",children:a}),Object(r.jsx)("button",{className:"error-popup__button",type:"button",onClick:t,children:"Click here to try again"})]})]})}));var S={changeLoginStatus:function(){return{type:u}},addNewUser:function(e,t,a,r,n){return{type:b,payload:{id:n,login:a,nickname:e,email:t,password:r}}},changeErrorLoginStatus:O},C=Object(l.b)((function(e){return{loginErrorStatus:e.loginErrorStatus.loginErrorStatus}}),S)((function(e){var t,a=e.changeLoginStatus,i=e.addNewUser,o=e.changeErrorLoginStatus,s=e.loginErrorStatus,l=Object(n.useState)(!1),u=Object(c.a)(l,2),b=u[0],d=u[1],m=Object(n.useState)(""),g=Object(c.a)(m,2),j=g[0],p=g[1];function f(e){"registration"===(t=e.target.id)&&d(!0),"backToLogin"===t&&d(!1)}return Object(r.jsxs)(r.Fragment,{children:[s&&Object(r.jsx)(N,{errorMessage:j}),Object(r.jsxs)("form",{className:"autorization-form",action:"#",method:"post",onSubmit:function(e){if(e.preventDefault(),"login"===t&&(h(e.target[0].value,e.target[1].value,"login")?a():(p("This user is not registered, try again or register new user"),o())),"registerUser"===t){switch(h(e.target[2].value,e.target[3].value,"registration",e.target[0].value,e.target[1].value)){case"nickname":p("This nickname is already used, try another one"),o();break;case"email":p("This email is already used, try another one"),o();break;case"login":p("This login is already used, try another one"),o();break;default:y(e.target[0].value,e.target[1].value,e.target[2].value,e.target[3].value,_()),i(e.target[0].value,e.target[1].value,e.target[2].value,e.target[3].value,_())}console.log(j)}e.target.reset()},children:[b&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("label",{className:"autorization-form__label",htmlFor:"nicknameField",children:"Nickname"}),Object(r.jsx)("input",{className:"autorization-form__input",type:"text",name:"nicknameField",id:"nicknameField",autoComplete:"off",required:!0}),Object(r.jsx)("label",{className:"autorization-form__label",htmlFor:"emailField",children:"Email"}),Object(r.jsx)("input",{className:"autorization-form__input",type:"email",name:"emailField",id:"emailField",autoComplete:"off",required:!0})]}),Object(r.jsx)("label",{className:"autorization-form__label",htmlFor:"loginField",children:"Login"}),Object(r.jsx)("input",{className:"autorization-form__input",type:"text",name:"loginField",id:"loginField",autoComplete:"off",required:!0}),Object(r.jsx)("label",{className:"autorization-form__label",htmlFor:"passwordField",children:"Password"}),Object(r.jsx)("input",{className:"autorization-form__input",type:"password",name:"passwordField",id:"passwordField",required:!0}),b?Object(r.jsxs)("div",{className:"autorization-form__btns-wrapper",children:[Object(r.jsx)("button",{className:"autorization-form__submit-btn autorization-form__submit-btn--first",type:"button",id:"backToLogin",onClick:f,children:"Back"}),Object(r.jsx)("button",{className:"autorization-form__submit-btn autorization-form__submit-btn--second",type:"submit",id:"registerUser",onClick:f,children:"Register User"})]}):Object(r.jsxs)("div",{className:"autorization-form__btns-wrapper",children:[Object(r.jsx)("button",{className:"autorization-form__submit-btn autorization-form__submit-btn--first",type:"submit",id:"login",onClick:f,children:"Login"}),Object(r.jsx)("button",{className:"autorization-form__submit-btn autorization-form__submit-btn--second",type:"button",id:"registration",onClick:f,children:"Registration"})]})]})]})}));a(33),a(34);var E={changeNavigationCategory:function(e,t){return{type:j,payload:{category:e,headers:t}}}},I=Object(l.b)(null,E)((function(e){var t=e.changeNavigationCategory,a=Object(n.useState)({width:"auto"}),i=Object(c.a)(a,2),o=i[0],s=i[1],l=Object(n.useState)({transform:"rotate(180deg)"}),u=Object(c.a)(l,2),b=u[0],d=u[1];function m(e){var a;a="users"===e.target.id?["id","login"]:["id","degree"],t(e.target.id,a)}return Object(r.jsxs)("nav",{className:"navigation",children:[Object(r.jsxs)("ul",{className:"navigation__list",children:[Object(r.jsx)("li",{className:"navigation__item",children:Object(r.jsx)("button",{className:"navigation__button navigation__button--users",type:"button","aria-label":"Users",id:"users",style:o,onClick:m,children:"Users"})}),Object(r.jsx)("li",{className:"navigation__item",children:Object(r.jsx)("button",{className:"navigation__button navigation__button--temperature",type:"button","aria-label":"Temperature",id:"temperature",style:o,onClick:m,children:"Temperature"})})]}),Object(r.jsx)("button",{className:"navigation__arrow-btn",type:"button","aria-label":"show/hide button`s text",style:b,onClick:function(){"auto"===o.width&&"rotate(180deg)"===b.transform?(s({width:"50px"}),d({transform:"rotate(0deg)"})):(s({width:"auto"}),d({transform:"rotate(180deg)"}))}})]})}));a(35),a(36),a(37);var w=function(e){var t=localStorage.getItem("users"),a=JSON.parse(t);a.splice(e,1),localStorage.setItem("users",JSON.stringify(a))};var k={deleteUser:function(e){return{type:d,payload:{index:e}}},deleteTemperature:function(e){return{type:p,payload:{index:e}}}},T=Object(l.b)((function(e){return{tableCategoryData:e.tableCategoryData,usersInformation:e.usersInformation}}),k)((function(e){var t=e.changeEditorVisibility,a=e.tableCategoryData,n=e.index,i=e.deleteUser,o=e.deleteTemperature;return Object(r.jsxs)("div",{className:"table__cell-controls-wrapper",children:[Object(r.jsx)("button",{className:"table__cell-control-btn table__cell-control-btn--edit",type:"button","aria-label":"edit value",onClick:t}),Object(r.jsx)("button",{className:"table__cell-control-btn table__cell-control-btn--delete",type:"button","aria-label":"delete value",onClick:function(){"users"===a.currentCategory&&(w(n),i(n)),"temperature"===a.currentCategory&&o(n)}})]})}));a(38);var F=function(e,t){var a=localStorage.getItem("users"),r=JSON.parse(a);r[e].login=t,localStorage.setItem("users",JSON.stringify(r))};var z={changeUserInformation:function(e,t){return{type:m,payload:{index:e,value:t}}},changeTemperature:function(e,t){return{type:f,payload:{index:e,value:t}}}},U=Object(l.b)((function(e){return{tableCategoryData:e.tableCategoryData}}),z)((function(e){var t=e.value,a=e.changeEditorVisibility,i=e.index,o=e.changeUserInformation,s=e.tableCategoryData,l=e.changeTemperature,u=Object(n.useState)(t),b=Object(c.a)(u,2),d=b[0],m=b[1];return Object(r.jsxs)("form",{className:"table__cell-form",action:"#",method:"POST",onSubmit:function(e){e.preventDefault(),"users"===s.currentCategory&&(F(i,e.target[0].value),o(i,e.target[0].value)),"temperature"===s.currentCategory&&l(i,e.target[0].value),a()},children:[Object(r.jsx)("label",{className:"table__cell-label visually-hidden",htmlFor:"editValue",children:"New value"}),Object(r.jsx)("input",{className:"table__cell-input",type:"text",name:"editValue",id:"editValue",placeholder:t,value:d,onChange:function(e){m(e.target.value)},autoComplete:"off",required:!0}),Object(r.jsxs)("div",{className:"table__cell-btns-wrapper",children:[Object(r.jsx)("button",{className:"table__cell-btn table__cell-btn--submit",type:"submit","aria-label":"submit new value"}),Object(r.jsx)("button",{className:"table__cell-btn table__cell-btn--cancel",type:"button","aria-label":"cancel editing",onClick:a})]})]})}));var D=function(e){var t=e.value,a=e.index,i=Object(n.useState)(!1),o=Object(c.a)(i,2),s=o[0],l=o[1];function u(){l(!s)}return Object(r.jsx)("td",{className:"table__cell table__cell--second",children:s?Object(r.jsx)(U,{value:t,index:a,changeEditorVisibility:u}):Object(r.jsxs)(r.Fragment,{children:[t,Object(r.jsx)(T,{index:a,changeEditorVisibility:u})]})})};var A=Object(l.b)((function(e){return{tableCategoryData:e.tableCategoryData,usersInformation:e.usersInformation,temperatureInformation:e.temperatureInformation}}),null)((function(e){var t,a=e.tableCategoryData,n=e.usersInformation,i=e.temperatureInformation;return"users"===a.currentCategory&&(t=n.users),"temperature"===a.currentCategory&&(t=i.temperature),Object(r.jsx)("div",{className:"table",children:Object(r.jsx)("div",{className:"table__wrapper",children:Object(r.jsxs)("table",{className:"table__body",children:[Object(r.jsx)("thead",{children:Object(r.jsx)("tr",{className:"table__row",children:a.tableColumnHeaders.map((function(e,t){return Object(r.jsx)("th",{className:"table__head-cell",children:e},t)}))})}),Object(r.jsx)("tbody",{children:t.map((function(e,t){return Object(r.jsxs)("tr",{className:"table__row",children:[Object(r.jsx)("td",{className:"table__cell",children:e[a.tableColumnHeaders[0]]}),Object(r.jsx)(D,{value:e[a.tableColumnHeaders[1]],index:t})]},t)}))})]})})})}));var L=function(){return Object(r.jsxs)("div",{className:"main-container",children:[Object(r.jsx)(I,{}),Object(r.jsx)(A,{})]})};var R=Object(l.b)((function(e){return{loginStatus:e.usersInformation.signInStatus}}),null)((function(e){var t=e.loginStatus;return Object(r.jsx)("div",{className:"App",children:t?Object(r.jsx)(L,{}):Object(r.jsx)(C,{})})})),J=a(6),H=a(4),G=a(2),M=localStorage.getItem("users"),V=[];if(M){var q,P=JSON.parse(M),B=Object(v.a)(P);try{for(B.s();!(q=B.n()).done;){var W=q.value;V.push(W)}}catch(ee){B.e(ee)}finally{B.f()}}var Y={signInStatus:!1,users:V},K={loginErrorStatus:!1},Q={currentCategory:"users",tableColumnHeaders:["id","login"]},X={temperature:[{id:"1",degree:"6"},{id:"2",degree:"14"},{id:"6",degree:"675"},{id:"7",degree:"5"}]},Z=Object(J.b)({usersInformation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return Object(G.a)(Object(G.a)({},e),{},{signInStatus:!e.signInStatus});case b:return Object(G.a)(Object(G.a)({},e),{},{signInStatus:!e.signInStatus,users:[].concat(Object(H.a)(e.users),[t.payload])});case d:var a=t.payload.index;return Object(G.a)(Object(G.a)({},e),{},{users:[].concat(Object(H.a)(e.users.slice(0,a)),Object(H.a)(e.users.slice(a+1)))});case m:return e.users[t.payload.index].login=t.payload.value,Object(G.a)(Object(G.a)({},e),{},{users:Object(H.a)(e.users)});default:return e}},loginErrorStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(G.a)(Object(G.a)({},e),{},{loginErrorStatus:!e.loginErrorStatus});default:return e}},tableCategoryData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(G.a)(Object(G.a)({},e),{},{currentCategory:t.payload.category,tableColumnHeaders:Object(H.a)(t.payload.headers)});default:return e}},temperatureInformation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:var a=t.payload.index;return Object(G.a)(Object(G.a)({},e),{},{temperature:[].concat(Object(H.a)(e.temperature.slice(0,a)),Object(H.a)(e.temperature.slice(a+1)))});case f:return console.log(2),e.temperature[t.payload.index].degree=t.payload.value,Object(G.a)(Object(G.a)({},e),{},{temperature:Object(H.a)(e.temperature)});default:return e}}}),$=Object(J.c)(Z);s.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(l.a,{store:$,children:Object(r.jsx)(R,{})})}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.7273e7a1.chunk.js.map